<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

 <title>b.wetz</title>
 <link href="http://mauzy.ga/atom.xml" rel="self"/>
 <link href="http://mauzy.ga/"/>
 <updated>2015-09-01T22:59:11-04:00</updated>
 <id>http://mauzy.ga</id>
 <author>
   <name>Brandon Wetzel</name>
   <email></email>
 </author>

 
 <entry>
   <title>Homemade Synthesizer Baked With Love</title>
   <link href="http://mauzy.ga/stm32f4/arm/synth/music/2015/07/29/synth/"/>
   <updated>2015-07-29T14:14:14-04:00</updated>
   <id>http://mauzy.ga/stm32f4/arm/synth/music/2015/07/29/synth</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;I hear that you and your band have sold your &lt;strong&gt;guitars&lt;/strong&gt; and bought &lt;strong&gt;turntables&lt;/strong&gt;.&lt;br /&gt;
I hear that you and your band have sold your &lt;strong&gt;turntables&lt;/strong&gt; and bought &lt;strong&gt;guitars&lt;/strong&gt;.&lt;br /&gt;
I hear that you and your band have sold your &lt;strong&gt;guitars&lt;/strong&gt; and bought &lt;strong&gt;STM32F4’s&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Ayyy&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Streaming Sound with the DMA and DAC</title>
   <link href="http://mauzy.ga/stm32f4/arm/synth/music/2015/07/29/dma/"/>
   <updated>2015-07-29T14:14:14-04:00</updated>
   <id>http://mauzy.ga/stm32f4/arm/synth/music/2015/07/29/dma</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;Obligatory quote&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Start it off…&lt;/p&gt;

&lt;p&gt;Armed with a newfound mastery of (digital synthesis)[], it is now time to venture into the
musical front, painting with the nearly unlimited variety of colors and textures
provided by the digital palette on our STM32F4 microcontroller. But before you
can break into your favorite Electric Piano 2 riff, or bust out a mellow
Fantasia groove, we need to figure out how to actually send data to the DAC.&lt;/p&gt;

&lt;p&gt;Ref. pg 303 of the Refenence Manual (rev 10)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;BREAK THESE INTO SECTIONS&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;Enable Clock&lt;/li&gt;
  &lt;li&gt;DMA1_Stream5 - Channel 7&lt;/li&gt;
  &lt;li&gt;Memory-to-periph&lt;/li&gt;
  &lt;li&gt;Increment&lt;/li&gt;
  &lt;li&gt;Alignment&lt;/li&gt;
  &lt;li&gt;Mode (circular)&lt;/li&gt;
  &lt;li&gt;Priority&lt;/li&gt;
  &lt;li&gt;FIFO&lt;/li&gt;
  &lt;li&gt;Burst&lt;/li&gt;
  &lt;li&gt;Double buffer
    &lt;ul&gt;
      &lt;li&gt;MEM: DMA_SxM0AR + DMA_SxM1AR&lt;/li&gt;
      &lt;li&gt;PPH: DMA_SxPAR&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Interrupts
    &lt;ul&gt;
      &lt;li&gt;TC	: Transfer Complete&lt;/li&gt;
      &lt;li&gt;HT	: Half Transfer&lt;/li&gt;
      &lt;li&gt;TE	: Transfer Error&lt;/li&gt;
      &lt;li&gt;FE	: FIFO Error&lt;/li&gt;
      &lt;li&gt;DME	: Direct Mode Error&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>STM32F4 Linux Development - Eclipse + GCC ARM Embedded + openOCD</title>
   <link href="http://mauzy.ga/stm32f4/arm/linux/2015/07/28/stm_setup/"/>
   <updated>2015-07-28T19:23:23-04:00</updated>
   <id>http://mauzy.ga/stm32f4/arm/linux/2015/07/28/stm_setup</id>
   <content type="html">&lt;p&gt;So, you decided embedded programming is what the hip kids do these days. The
sight of a $15 ARM board tickled you in places an Arduino could never reach.
So, you bought it, ideas saturate your brain and you can’t wait to wring
out your thoughts into this thing. But it just sits there on your table begging
for sweet binary nectar. How do you feed it?&lt;/p&gt;

&lt;p&gt;For the past four months I have been running the limited version of Keil,
chained to the measly 32kB debug limit I was quickly limited to debugging
diassembly. While that works great for debugging assembly code, the lack of
debugging information in the disassembly made working with C code an utter
nightmare. So it’s time to ditch the VM and head back to the wonderful, organic
world of FOSS. Besides, I also switched over to a notebook running Debian and
Stallman would probably come after me with a katana if I ran Keil.&lt;/p&gt;

&lt;h2 id=&quot;tools-required&quot;&gt;Tools Required:&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.eclipse.org/downloads/&quot;&gt;Eclipse IDE&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;gnuarmeclipse.livius.net/blog/&quot;&gt;GNU ARM Eclipse plugin&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Includes the &lt;a href=&quot;&quot;&gt;GNU ARM Embedded toolchain (arm-none-eabi-gcc)&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>DDS</title>
   <link href="http://mauzy.ga/jqi/dds/2015/06/30/dds/"/>
   <updated>2015-06-30T14:14:14-04:00</updated>
   <id>http://mauzy.ga/jqi/dds/2015/06/30/dds</id>
   <content type="html">&lt;p&gt;The aptly named Direct Digital Synthesizer (DDS) is a device which digitally (and directly…) synthesizes precise waveforms in a conveniently programmable manner. Most often, DDSs output sinusoids, but can theoretically output any periodic function. &lt;/p&gt;

&lt;h3 id=&quot;calculating-output&quot;&gt;Calculating Output&lt;/h3&gt;
&lt;p&gt;A DDS crafts its output by stepping through a wavetable (often sinusoidal) stored in ROM. Each entry in the wavetable is typically an integer or fixed-point value representing a voltage level, which is then sent to a Digital-to-Analog Converter (DAC) to prepare an analog output signal. To output a range of frequencies, the DDS makes use of a &lt;em&gt;phase accumulator&lt;/em&gt; which represents the current index in the wavetable. If the phase accumulator is incremented by 1 on each clock pulse, the DDS will step through every value in the wavetable, thus creating its lowest possible frequency. If the phase accumulator has &lt;script type=&quot;math/tex&quot;&gt;n&lt;/script&gt; bits, the output frequency is defined as:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;f_{out} = \frac{f_{clk}}{2^n}&lt;/script&gt;

&lt;p&gt;However, if the wavetable is incremented by some some larger value, the faster the output frequency. This incrementation value is defined by the &lt;em&gt;tuning word&lt;/em&gt;, &lt;script type=&quot;math/tex&quot;&gt;M&lt;/script&gt;, which is a programmable register on the DDS. With the inclusion of a tuning word, the output frequency is now defined as:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;f_{out} = M\frac{f_{clk}}{2^n}&lt;/script&gt;

&lt;p&gt;Output waveforms are limited to about 40% of the clock frequency (&lt;script type=&quot;math/tex&quot;&gt;f_{clk}&lt;/script&gt;) to avoid errors which occur when approaching and surpassing the Nyquist frequency (half of the sampling rate, which is in this case &lt;script type=&quot;math/tex&quot;&gt;f_{clk}&lt;/script&gt;).&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Fancy Things</title>
   <link href="http://mauzy.ga/jekyll/update/2015/06/29/welcome-to-jekyll/"/>
   <updated>2015-06-29T14:14:14-04:00</updated>
   <id>http://mauzy.ga/jekyll/update/2015/06/29/welcome-to-jekyll</id>
   <content type="html">&lt;p&gt;You can do all sorts of fancy stuff, like write the TI-Schrodinger equation:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;-\frac{\hbar ^2}{2m} \psi _{xx} + V\psi = E\psi&lt;/script&gt;

&lt;p&gt;And write bits of code:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Hi, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;Tom&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; prints &amp;#39;Hi, Tom&amp;#39; to STDOUT.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Check out more stuff at &lt;a href=&quot;http://jqi.umd.edu/&quot;&gt;JQI&lt;/a&gt;&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Another Post</title>
   <link href="http://mauzy.ga/jqi/2015/06/28/another-post/"/>
   <updated>2015-06-28T14:14:14-04:00</updated>
   <id>http://mauzy.ga/jqi/2015/06/28/another-post</id>
   <content type="html">&lt;p&gt;Woah, look at this, its another post. I bet it looks pretty cool down here below the other one.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Another Post</title>
   <link href="http://mauzy.ga/jqi/2015/06/28/another-post/"/>
   <updated>2015-06-28T14:14:14-04:00</updated>
   <id>http://mauzy.ga/jqi/2015/06/28/another-post</id>
   <content type="html">&lt;p&gt;Woah, look at this, its another post. I bet it looks pretty cool down here below the other one.&lt;/p&gt;
</content>
 </entry>
 

</feed>
